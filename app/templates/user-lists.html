{% extends 'base.html' %}

{% block head %}
<link href="https://cdn.jsdelivr.net/npm/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
{% endblock %}


{% block content %}
<div class="mb-3">
    <label for="example-input-1" class="form-label">Email</label>
    <input type="email" class="form-control" id="example-input-1" placeholder="name@example.com">
</div>
<div>
    <label for="example-textarea-1" class="form-label">Description</label>
    <textarea class="form-control" id="example-textarea-1" rows="3" placeholder="A short description about yourself"></textarea>
</div>

<!-- Placeholder for Grid.js Table -->
<div id="grid-table"></div>

{% endblock %}


{% block script %}
<script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    fetch("https://jsonplaceholder.typicode.com/users")
        .then(response => response.json())
        .then(data => {
            // Extract relevant fields from API response
            const formattedData = data.map(user => [
                user.id, 
                user.name, 
                user.username, 
                user.email
            ]);

            new gridjs.Grid({
                columns: ["ID", "Name", "Username", "Email"],
                data: formattedData,
                sort: true, // Enable sorting
                pagination: { limit: 5 }, // Enable pagination (5 rows per page)
                search: true, // Enable search
                resizable: true, // Allow column resizing
                style: {
                    table: {
                        'border-collapse': 'collapse',
                        'width': '100%'
                    },
                    th: {
                        'background-color': '#f8f9fa',
                        'text-align': 'left'
                    },
                    td: {
                        'border': '1px solid #dee2e6',
                        'padding': '8px'
                    }
                }
            }).render(document.getElementById("grid-table"));
        })
        .catch(error => console.error("Error fetching data:", error));
});
</script>
{% endblock %}

